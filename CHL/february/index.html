---
layout: chl
class: chl
---

<script>
  $(function(){
  init();
});

function init() {
  setEventListener();
  setAnimationManager();
}

function setEventListener() {
  $('#reset-btn').on('click', function() {
    swapBtnView('hide');
    setAnimationManager();
  });
}

function swapBtnView(state) {
  var value = (state === 'hide') ? -30 : 0;
  $('#reset-btn').animate({
    top: value
  });
}

function setAnimationManager() {
  var promise = setAnimations();
  promise
  .then(function() {
    reset();
  });
}

function reset() {
  var promise = hideContainers();
  promise
  .then(resetPosition);
}

function resetPosition() {
  var $targets = $('div.container').find('>div');
  $targets.removeClass();
  $targets.addClass('element-container');
  $('div.container').css({
    opacity: 1
  });
  swapBtnView('show');
}

function hideContainers() {
  var promises = [];
  var length = $('div.container').length;
  for(var i = 0; i < length; i++) {
    var promise = hideContainer(i);
    promises.push(promise);
  }

  // apply
  return $.when.apply(undefined, promises).promise();
}

function hideContainer(i) {
  var deferred = $.Deferred();
  $('div.container').eq(i)
  .delay(500)
  .animate({
    opacity: 0
  }, function() {
    return deferred.resolve();
  });

  return deferred.promise();
}

function setAnimations() {
  var LENGTH = 20;
  var promises = [];
  for(var i = 0; i < LENGTH; i++) {
    var promise = setAnimation(i);
    promises.push(promise);
  }

  // apply
  return $.when.apply(undefined, promises).promise();
}

function setAnimation(i) {
  var deferred = $.Deferred();
  var $target = $('div.container').eq(i);
  setTimeout(function() {
    $target.find('>div').removeClass();
    $target.find('>div').addClass('reset');
    return deferred.resolve();
  }, i * 150);
  return deferred.promise();
}

</script>

<style>
  body {
  background-color: #000000;
  margin: 0;
  overflow: hidden;
}

article {
  position: absolute;
  top: 50%;
  margin-top: -2.5vw;
}
article div.container {
  -webkit-perspective: 800px;
  width: 5vw;
}
article div.container > div.element-container {
  -webkit-transform-style: preserve-3d;
  opacity: 0;
}
article div.container > div.reset {
  -webkit-transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg) translateX(0px) translateY(0px) translateZ(0px);
  opacity: 1;
  -webkit-transition: 0.4s -webkit-transform ease-out, 0.4s opacity ease-out;
  margin-top: 0px;
  -webkit-transform-style: preserve-3d;
}
article div.container > div > div.element {
  width: 5vw;
  height: 5vw;
  position: absolute;
  color: #ffffff;
  font-family: futura;
  font-size: 5vw;
  line-height: 5vw;
  text-align: center;
}

button#reset-btn {
  position: absolute;
  top: -30px;
  left: 0;
  width: 90px;
  height: 30px;
  font-size: 10px;
  line-height: 30px;
  text-align: center;
  cursor: pointer;
  border-radius: 2px;
  border: none;
  background-color: #ffffff;
}
button#reset-btn:focus {
  outline: 0;
}

div.container:nth-child(1) {
  position: absolute;
  top: 0;
  left: 0vw;
}
div.container:nth-child(1) div.element-container {
  -webkit-transform: rotateX(-121deg) rotateY(330deg) rotateZ(234deg) translateX(184px) translateY(0px) translateZ(-121px);
}
div.container:nth-child(1) div.element-container > div {
  top: 0;
  left: 0vw;
}

div.container:nth-child(2) {
  position: absolute;
  top: 0;
  left: 5vw;
}
div.container:nth-child(2) div.element-container {
  -webkit-transform: rotateX(302deg) rotateY(7deg) rotateZ(193deg) translateX(-12px) translateY(-61px) translateZ(-26px);
}
div.container:nth-child(2) div.element-container > div {
  top: 0;
  left: 5vw;
}

div.container:nth-child(3) {
  position: absolute;
  top: 0;
  left: 10vw;
}
div.container:nth-child(3) div.element-container {
  -webkit-transform: rotateX(-2deg) rotateY(169deg) rotateZ(-302deg) translateX(218px) translateY(66px) translateZ(328px);
}
div.container:nth-child(3) div.element-container > div {
  top: 0;
  left: 10vw;
}

div.container:nth-child(4) {
  position: absolute;
  top: 0;
  left: 15vw;
}
div.container:nth-child(4) div.element-container {
  -webkit-transform: rotateX(57deg) rotateY(117deg) rotateZ(94deg) translateX(288px) translateY(122px) translateZ(-144px);
}
div.container:nth-child(4) div.element-container > div {
  top: 0;
  left: 15vw;
}

div.container:nth-child(5) {
  position: absolute;
  top: 0;
  left: 20vw;
}
div.container:nth-child(5) div.element-container {
  -webkit-transform: rotateX(196deg) rotateY(-62deg) rotateZ(-309deg) translateX(-328px) translateY(-28px) translateZ(217px);
}
div.container:nth-child(5) div.element-container > div {
  top: 0;
  left: 20vw;
}

div.container:nth-child(6) {
  position: absolute;
  top: 0;
  left: 25vw;
}
div.container:nth-child(6) div.element-container {
  -webkit-transform: rotateX(-277deg) rotateY(-264deg) rotateZ(345deg) translateX(70px) translateY(-212px) translateZ(-41px);
}
div.container:nth-child(6) div.element-container > div {
  top: 0;
  left: 25vw;
}

div.container:nth-child(7) {
  position: absolute;
  top: 0;
  left: 30vw;
}
div.container:nth-child(7) div.element-container {
  -webkit-transform: rotateX(-112deg) rotateY(-254deg) rotateZ(-194deg) translateX(-225px) translateY(174px) translateZ(92px);
}
div.container:nth-child(7) div.element-container > div {
  top: 0;
  left: 30vw;
}

div.container:nth-child(8) {
  position: absolute;
  top: 0;
  left: 35vw;
}
div.container:nth-child(8) div.element-container {
  -webkit-transform: rotateX(306deg) rotateY(130deg) rotateZ(-257deg) translateX(-309px) translateY(-94px) translateZ(224px);
}
div.container:nth-child(8) div.element-container > div {
  top: 0;
  left: 35vw;
}

div.container:nth-child(9) {
  position: absolute;
  top: 0;
  left: 40vw;
}
div.container:nth-child(9) div.element-container {
  -webkit-transform: rotateX(-310deg) rotateY(32deg) rotateZ(246deg) translateX(-280px) translateY(-306px) translateZ(291px);
}
div.container:nth-child(9) div.element-container > div {
  top: 0;
  left: 40vw;
}

div.container:nth-child(10) {
  position: absolute;
  top: 0;
  left: 45vw;
}
div.container:nth-child(10) div.element-container {
  -webkit-transform: rotateX(-272deg) rotateY(252deg) rotateZ(-212deg) translateX(-63px) translateY(-288px) translateZ(-151px);
}
div.container:nth-child(10) div.element-container > div {
  top: 0;
  left: 45vw;
}

div.container:nth-child(11) {
  position: absolute;
  top: 0;
  left: 50vw;
}
div.container:nth-child(11) div.element-container {
  -webkit-transform: rotateX(326deg) rotateY(-180deg) rotateZ(-330deg) translateX(7px) translateY(284px) translateZ(-191px);
}
div.container:nth-child(11) div.element-container > div {
  top: 0;
  left: 50vw;
}

div.container:nth-child(12) {
  position: absolute;
  top: 0;
  left: 55vw;
}
div.container:nth-child(12) div.element-container {
  -webkit-transform: rotateX(265deg) rotateY(-99deg) rotateZ(57deg) translateX(319px) translateY(-92px) translateZ(276px);
}
div.container:nth-child(12) div.element-container > div {
  top: 0;
  left: 55vw;
}

div.container:nth-child(13) {
  position: absolute;
  top: 0;
  left: 60vw;
}
div.container:nth-child(13) div.element-container {
  -webkit-transform: rotateX(-73deg) rotateY(-170deg) rotateZ(19deg) translateX(-267px) translateY(307px) translateZ(359px);
}
div.container:nth-child(13) div.element-container > div {
  top: 0;
  left: 60vw;
}

div.container:nth-child(14) {
  position: absolute;
  top: 0;
  left: 65vw;
}
div.container:nth-child(14) div.element-container {
  -webkit-transform: rotateX(-211deg) rotateY(296deg) rotateZ(5deg) translateX(319px) translateY(-351px) translateZ(-308px);
}
div.container:nth-child(14) div.element-container > div {
  top: 0;
  left: 65vw;
}

div.container:nth-child(15) {
  position: absolute;
  top: 0;
  left: 70vw;
}
div.container:nth-child(15) div.element-container {
  -webkit-transform: rotateX(-280deg) rotateY(80deg) rotateZ(-135deg) translateX(-309px) translateY(-262px) translateZ(-301px);
}
div.container:nth-child(15) div.element-container > div {
  top: 0;
  left: 70vw;
}

div.container:nth-child(16) {
  position: absolute;
  top: 0;
  left: 75vw;
}
div.container:nth-child(16) div.element-container {
  -webkit-transform: rotateX(-140deg) rotateY(-36deg) rotateZ(-302deg) translateX(195px) translateY(-96px) translateZ(83px);
}
div.container:nth-child(16) div.element-container > div {
  top: 0;
  left: 75vw;
}

div.container:nth-child(17) {
  position: absolute;
  top: 0;
  left: 80vw;
}
div.container:nth-child(17) div.element-container {
  -webkit-transform: rotateX(-33deg) rotateY(-347deg) rotateZ(176deg) translateX(-118px) translateY(150px) translateZ(4px);
}
div.container:nth-child(17) div.element-container > div {
  top: 0;
  left: 80vw;
}

div.container:nth-child(18) {
  position: absolute;
  top: 0;
  left: 85vw;
}
div.container:nth-child(18) div.element-container {
  -webkit-transform: rotateX(184deg) rotateY(-144deg) rotateZ(159deg) translateX(-167px) translateY(231px) translateZ(277px);
}
div.container:nth-child(18) div.element-container > div {
  top: 0;
  left: 85vw;
}

div.container:nth-child(19) {
  position: absolute;
  top: 0;
  left: 90vw;
}
div.container:nth-child(19) div.element-container {
  -webkit-transform: rotateX(293deg) rotateY(181deg) rotateZ(188deg) translateX(-128px) translateY(-3px) translateZ(156px);
}
div.container:nth-child(19) div.element-container > div {
  top: 0;
  left: 90vw;
}

div.container:nth-child(20) {
  position: absolute;
  top: 0;
  left: 95vw;
}
div.container:nth-child(20) div.element-container {
  -webkit-transform: rotateX(160deg) rotateY(253deg) rotateZ(-231deg) translateX(-28px) translateY(-255px) translateZ(-37px);
}
div.container:nth-child(20) div.element-container > div {
  top: 0;
  left: 95vw;
}

</style>

<section>

  <article>
    <div class="container">
      <div class="element-container">
        <div class="element"></div>
      </div>
    </div>
    <div class="container">
      <div class="element-container">
        <div class="element">I</div>
      </div>
    </div>
    <div class="container">
      <div class="element-container">
        <div class="element"></div>
      </div>
    </div>
    <div class="container">
      <div class="element-container">
        <div class="element">L</div>
      </div>
    </div>
    <div class="container">
      <div class="element-container">
        <div class="element">O</div>
      </div>
    </div>
    <div class="container">
      <div class="element-container">
        <div class="element">V</div>
      </div>
    </div>
    <div class="container">
      <div class="element-container">
        <div class="element">E</div>
      </div>
    </div>
    <div class="container">
      <div class="element-container">
        <div class="element"></div>
      </div>
    </div>
    <div class="container">
      <div class="element-container">
        <div class="element">Y</div>
      </div>
    </div>
    <div class="container">
      <div class="element-container">
        <div class="element">O</div>
      </div>
    </div>
    <div class="container">
      <div class="element-container">
        <div class="element">U</div>
      </div>
    </div>
    <div class="container">
      <div class="element-container">
        <div class="element"></div>
      </div>
    </div>
    <div class="container">
      <div class="element-container">
        <div class="element">H</div>
      </div>
    </div>
    <div class="container">
      <div class="element-container">
        <div class="element">O</div>
      </div>
    </div>
    <div class="container">
      <div class="element-container">
        <div class="element">N</div>
      </div>
    </div>
    <div class="container">
      <div class="element-container">
        <div class="element">E</div>
      </div>
    </div>
    <div class="container">
      <div class="element-container">
        <div class="element">Y</div>
      </div>
    </div>
    <div class="container">
      <div class="element-container">
        <div class="element">:)</div>
      </div>
    </div>
    <div class="container">
      <div class="element-container">
        <div class="element"></div>
      </div>
    </div>    <div class="container">
      <div class="element-container">
        <div class="element"></div>
      </div>
    </div>
  </article>

  <button id="reset-btn">ONE MORE &hearts;</button>

</section>
